<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Do Online Shop</title>
</head>
<body>
    <h1>Do Online Shop</h1>
    <script>
        const allProducts = [
            {id:1,name:"notebook", price:"1000"},
            {id:2,name:"phone",price:"500"},
            {id:3,name:"microphone",price:"100"},
            {id:4,name:"headset",price:"200"},
            {id:5,name:"mouse",price:"50"},
            {id:6,name:"keyboard",price:"100"}
        ]
        const userBasket=[
            { id: 5, name: "mouse", price: "50" },
            { id: 6, name: "keyboard", price: "100" }
        ]
        const product = prompt("enter the product name please: ")
        cnt=2
        const add_available_item = allProducts.some(productItem => {
            if (productItem.name === product){
                new_item = {
                    id:cnt,
                    name:productItem.name,
                    price:productItem.price
                }
                cnt++
                userBasket.push(new_item) 
                return true
            }
            return false
        })
        
        if(add_available_item){
            alert("کالا موجود هست")
            console.log(userBasket)
            const total_price = calc_total_price(userBasket)
            console.log("total price:"+total_price)
        }
        else{
            alert('کالا موجود نیست')
        }
        function calc_total_price(Basket){
            let sum = 0
            Basket.forEach(item=>{
                sum += Number(item.price)
            })
            return sum
        } 
    </script>
</body>
</html>